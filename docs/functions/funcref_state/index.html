<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>state - VirtualDataSet</title>
    <meta name="generator" content="Hugo 0.46" />

    
    <meta name="description" content="VirtualDataSet Docs">
    
    <link rel="canonical" href="http://docs.virtdata.io/functions/funcref_state/">
    

    <meta property="og:url" content="http://docs.virtdata.io/functions/funcref_state/">
    <meta property="og:title" content="VirtualDataSet">
    <meta property="og:image" content="/images/virtdata_128.png">
    <meta name="apple-mobile-web-app-title" content="VirtualDataSet">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/engineblock_32.png">
    <link rel="icon" type="image/x-icon" href="../../images/engineblock_32.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('/fonts/icon.eot?52m981');
        src: url('/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('/fonts/icon.woff?52m981')
               format('woff'),
             url('/fonts/icon.ttf?52m981')
               format('truetype'),
             url('/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/images.css">

    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="../../javascripts/modernizr.js"></script>

    

  

    
    

    
    

    
    

    
    
    <script src="http://docs.virtdata.io//modules/jssequence/webfont.js"></script>
    <script src="http://docs.virtdata.io//modules/jssequence/snap.svg-min.js"></script>
    <script src="http://docs.virtdata.io//modules/jssequence/underscore-min.js"></script>
    <script src="http://docs.virtdata.io//modules/jssequence/sequence-diagram.js"></script>
    <link href="http://docs.virtdata.io//modules/jssequence/sequence-diagram-min.css" rel="stylesheet" />
    

    
    
    <script src="http://docs.virtdata.io//modules/railroad/railroad-diagrams.js"></script>
    <link href="http://docs.virtdata.io//modules/railroad/railroad-diagrams.css" rel="stylesheet">
    

    
    
    <link href="http://docs.virtdata.io//modules/jsxgraph/jsxgraph.css" type="text/css" rel="stylesheet"/>
    <script src="http://docs.virtdata.io//modules/jsxgraph//jsxgraphcore.js"></script>
    
    

    
    
    <link href="http://docs.virtdata.io//modules/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="http://docs.virtdata.io//modules/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    
    
    <script src="http://docs.virtdata.io//modules/nomnoml/lodash.min.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/dagre.min.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/skanaar.util.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/skanaar.svg.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/skanaar.vector.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/skanaar.canvas.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/nomnoml.jison.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/nomnoml.parser.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/nomnoml.layouter.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/nomnoml.renderer.js"></script>
    <script src="http://docs.virtdata.io//modules/nomnoml/nomnoml.js"></script>
    

    
    

    
    


  </head>
  <body class="palette-primary-grey palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        state
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/virtualdataset/metagen-java" title="@virtualdataset/metagen-java on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://docs.virtdata.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://docs.virtdata.io/images/virtdata_128.png">
        </div>
      
      <div class="name">
        <strong>VirtualDataSet </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    <span class="section">Introduction</span>
    <ul>
      
        
        



<a  title="Why VirtData?" href="../../why_virtdata/why_virtdata/">
	
	Why VirtData?
</a>





      
    </ul>
  
</li>



<li>
  
    <span class="section">Concepts</span>
    <ul>
      
        
        



<a  title="Mapping Functions" href="../../concepts/mapping_functions/">
	
	Mapping Functions
</a>





      
        
        



<a  title="Function Graphs" href="../../concepts/function_graphs/">
	
	Function Graphs
</a>





      
        
        



<a  title="Modeling Cardinality" href="../../concepts/modeling_cardinality/">
	
	Modeling Cardinality
</a>





      
        
        



<a  title="Modeling Set Relationships" href="../../concepts/set_relationships/">
	
	Modeling Set Relationships
</a>





      
    </ul>
  
</li>



<li>
  
    <span class="section">Using VirtData</span>
    <ul>
      
        
        



<a  title="Function Flows" href="../../users_guide/resolving_functions/">
	
	Function Flows
</a>





      
        
        



<a  title="VirtData Syntax" href="../../users_guide/syntax_overview/">
	
	VirtData Syntax
</a>





      
    </ul>
  
</li>



<li>
  
    <span class="section">Function Reference</span>
    <ul>
      
        
        



<a  title="collections" href="../../functions/funcref_collections/">
	
	collections
</a>





      
        
        



<a  title="conversion" href="../../functions/funcref_conversion/">
	
	conversion
</a>





      
        
        



<a  title="datetime" href="../../functions/funcref_datetime/">
	
	datetime
</a>





      
        
        



<a  title="diagnostics" href="../../functions/funcref_diagnostics/">
	
	diagnostics
</a>





      
        
        



<a  title="distributions" href="../../functions/funcref_distributions/">
	
	distributions
</a>





      
        
        



<a  title="general" href="../../functions/funcref_general/">
	
	general
</a>





      
        
        



<a  title="premade" href="../../functions/funcref_premade/">
	
	premade
</a>





      
        
        



<a  title="state" href="../../functions/funcref_state/">
	
	state
</a>





      
    </ul>
  
</li>



<li>
  
    <span class="section">Site Info</span>
    <ul>
      
        
        



<a  title="Typography" href="../../siteinfo/typography/">
	
	Typography
</a>





      
    </ul>
  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>state </h1>

			

<p>Functions in the state category allow you to do things with
side-effects in the function flow. Specifically, they allow
you to save or load values of named variables to thread-local
registers.</p>

<h2 id="clear">Clear</h2>

<p>Clears the per-thread map which is used by the Expr function.</p>

<ul>
<li>long -&gt; Clear() -&gt; long

<ul>
<li><em>notes:</em> Clear all named entries from the per-thread map.</li>
<li><em>ex:</em> <code>Clear()</code> - <em>clear all thread-local variables</em></li>
</ul></li>
<li>long -&gt; Clear(String&hellip; names) -&gt; long

<ul>
<li><em>notes:</em> Clear the specified names from the per-thread map.</li>
<li><em>ex:</em> <code>Clear('foo')</code> - <em>clear the thread-local variable &lsquo;foo&rsquo;</em></li>
<li><em>ex:</em> <code>Clear('foo','bar')</code> - <em>clear the thread-local variables &lsquo;foo&rsquo; and &lsquo;bar&rsquo;</em></li>
</ul></li>
</ul>

<h2 id="load">Load</h2>

<p>Load a named value from the per-thread state map.
The previous input value will be forgotten, and the named value will replace it
before the next function in the chain.</p>

<ul>
<li>double -&gt; Load(String: name) -&gt; double

<ul>
<li><em>ex:</em> <code>Load('foo')</code> - <em>for the current thread, load a double value from the named variable</em></li>
</ul></li>
<li>double -&gt; Load(String: name, double: defaultValue) -&gt; double

<ul>
<li><em>ex:</em> <code>Load('foo',432.0D)</code> - <em>for the current thread, load a double value from the named variable, or the defaultvalue if it is not yet defined.</em></li>
</ul></li>
<li>double -&gt; Load(java.util.function.Function<Object,Object>: nameFunc) -&gt; double

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString())</code> - <em>for the current thread, load a double value from the named variable, where the variablename is provided by a function.</em></li>
</ul></li>
<li>double -&gt; Load(java.util.function.Function<Object,Object>: nameFunc, double: defaultValue) -&gt; double

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString(),1234.5D)</code> - <em>for the current thread, load a double value from the named variable, where the variablename is provided by a function, or the default value if the named value is not yet defined.</em></li>
</ul></li>
<li>long -&gt; Load(String: name) -&gt; long

<ul>
<li><em>ex:</em> <code>Load('foo')</code> - <em>for the current thread, load a long value from the named variable</em></li>
</ul></li>
<li>long -&gt; Load(String: name, long: defaultValue) -&gt; long

<ul>
<li><em>ex:</em> <code>Load('foo', 423L)</code> - <em>for the current thread, load a long value from the named variable, or the default value if the variable is not yet defined</em></li>
</ul></li>
<li>long -&gt; Load(java.util.function.Function<Object,Object>: nameFunc) -&gt; long

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString())</code> - <em>for the current thread, load a long value from the named variable, where the variable name is provided by the provided by a function.</em></li>
</ul></li>
<li>long -&gt; Load(java.util.function.Function<Object,Object>: nameFunc, long: defaultvalue) -&gt; long

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString(),22L)</code> - <em>for the current thread, load a long value from the named variable, where the variable name is provided by the provided by a function, or the default value if the variable is not yet defined</em></li>
</ul></li>
<li>Object -&gt; Load(String: name) -&gt; Object

<ul>
<li><em>ex:</em> <code>Load('foo')</code> - <em>for the current thread, load an Object value from the named variable</em></li>
</ul></li>
<li>Object -&gt; Load(java.util.function.Function<Object,Object>: nameFunc) -&gt; Object

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString())</code> - <em>for the current thread, load an Object value from the named variable, where the variable name is returned by the provided function</em></li>
</ul></li>
<li>Object -&gt; Load(String: name, Object: defaultValue) -&gt; Object

<ul>
<li><em>ex:</em> <code>Load('foo','testvalue')</code> - <em>for the current thread, load an Object value from the named variable, or the default value if the variable is not yet defined.</em></li>
</ul></li>
<li>Object -&gt; Load(java.util.function.Function<Object,Object>: nameFunc, Object: defaultValue) -&gt; Object

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString(),'testvalue')</code> - <em>for the current thread, load an Object value from the named variable, where the variable name is returned by the provided function, or thedefault value if the variable is not yet defined.</em></li>
</ul></li>
<li>int -&gt; Load(String: name) -&gt; int

<ul>
<li><em>ex:</em> <code>Load('foo')</code> - <em>for the current thread, load an int value from the named variable</em></li>
</ul></li>
<li>int -&gt; Load(String: name, int: defaultValue) -&gt; int

<ul>
<li><em>ex:</em> <code>Load('foo',42)</code> - <em>for the current thread, load an int value from the named variable, or return the default value if it is undefined.</em></li>
</ul></li>
<li>int -&gt; Load(java.util.function.Function<Object,Object>: nameFunc) -&gt; int

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString())</code> - <em>for the current thread, load an int value from the named variable, where the variable name is provided by a function.</em></li>
</ul></li>
<li>int -&gt; Load(java.util.function.Function<Object,Object>: nameFunc, int: defaultValue) -&gt; int

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString(),42)</code> - <em>for the current thread, load an int value from the named variable, where the variable name is provided by a function, or the default value if the named variable is undefined.</em></li>
</ul></li>
<li>String -&gt; Load(String: name) -&gt; String

<ul>
<li><em>ex:</em> <code>Load('foo')</code> - <em>for the current thread, load a String value from the named variable</em></li>
</ul></li>
<li>String -&gt; Load(String: name, String: defaultvalue) -&gt; String

<ul>
<li><em>ex:</em> <code>Load('foo','track05')</code> - <em>for the current thread, load a String value from the named variable, or teh default value if the variable is not yet defined.</em></li>
</ul></li>
<li>String -&gt; Load(java.util.function.Function<Object,Object>: nameFunc) -&gt; String

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString())</code> - <em>for the current thread, load a String value from the named variable, where the variable name is provided by a function</em></li>
</ul></li>
<li>String -&gt; Load(java.util.function.Function<Object,Object>: nameFunc, String: defaultValue) -&gt; String

<ul>
<li><em>ex:</em> <code>Load(NumberNameToString(),'track05')</code> - <em>for the current thread, load a String value from the named variable, where the variable name is provided by a function, or the default value if the variable is not yet defined.</em></li>
</ul></li>
</ul>

<h2 id="save">Save</h2>

<p>Save the current input value at this point in the function chain to a thread-local variable name.
The input value is unchanged, and available for the next function in the chain to use as-is.</p>

<ul>
<li>double -&gt; Save(String: name) -&gt; double

<ul>
<li><em>ex:</em> <code>Save('foo')</code> - <em>for the current thread, save the current double value to the named variable.</em></li>
</ul></li>
<li>double -&gt; Save(java.util.function.Function<Object,Object>: nameFunc) -&gt; double

<ul>
<li><em>ex:</em> <code>Save(NumberNameToString())</code> - <em>for the current thread, save the current double value to the name &lsquo;foo&rsquo; in this thread, where the variable name is provided by a function.</em></li>
</ul></li>
<li>long -&gt; Save(String: name) -&gt; long

<ul>
<li><em>ex:</em> <code>Save('foo')</code> - <em>save the current long value to the name &lsquo;foo&rsquo; in this thread</em></li>
</ul></li>
<li>long -&gt; Save(java.util.function.Function<Object,Object>: nameFunc) -&gt; long

<ul>
<li><em>ex:</em> <code>Save(NumberNameToString())</code> - <em>save the current long value to the name generated by the function given.</em></li>
</ul></li>
<li>Object -&gt; Save(String: name) -&gt; Object

<ul>
<li><em>ex:</em> <code>Save('foo')</code> - <em>for the current thread, save the input object value to the named variable</em></li>
</ul></li>
<li>Object -&gt; Save(java.util.function.Function<Object,Object>: nameFunc) -&gt; Object

<ul>
<li><em>ex:</em> <code>Save(NumberNameToString())</code> - <em>for the current thread, save the current input object value to the named variable,where the variable name is provided by a function.</em></li>
</ul></li>
<li>int -&gt; Save(String: name) -&gt; int

<ul>
<li><em>ex:</em> <code>Save('foo')</code> - <em>save the current int value to the name &lsquo;foo&rsquo; in this thread</em></li>
</ul></li>
<li>int -&gt; Save(java.util.function.Function<Object,Object>: nameFunc) -&gt; int

<ul>
<li><em>ex:</em> <code>Save(NumberNameToString())</code> - <em>save the current int value to a named variable in this thread,where the variable name is provided by a function.</em></li>
</ul></li>
<li>String -&gt; Save(String: name) -&gt; String

<ul>
<li><em>ex:</em> <code>Save('foo')</code> - <em>save the current String value to the name &lsquo;foo&rsquo; in this thread</em></li>
</ul></li>
<li>String -&gt; Save(java.util.function.Function<Object,Object>: nameFunc) -&gt; String

<ul>
<li><em>ex:</em> <code>Save(NumberNameToString())</code> - <em>save the current String value to a named variable in this thread, where the variable name is provided by a function</em></li>
</ul></li>
</ul>

<h2 id="show">Show</h2>

<p>Show diagnostic values for the thread-local variable map.</p>

<ul>
<li>Object -&gt; Show() -&gt; String

<ul>
<li><em>ex:</em> <code>Show()</code> - <em>Show all values in a json-like format</em></li>
</ul></li>
<li>Object -&gt; Show(String&hellip; names) -&gt; String

<ul>
<li><em>ex:</em> <code>Show('foo')</code> - <em>Show only the &lsquo;foo&rsquo; value in a json-like format</em></li>
<li><em>ex:</em> <code>Show('foo','bar')</code> - <em>Show the &lsquo;foo&rsquo; and &lsquo;bar&rsquo; values in a json-like format</em></li>
</ul></li>
</ul>

<h2 id="swap">Swap</h2>

<p>Load a named value from the per-thread state map.
The previous input value will be stored in the named value, and the previously
stored value will be returned. A default value to return may be provided
in case there was no previously stored value under the given name.</p>

<ul>
<li>long -&gt; Swap(String: name) -&gt; long

<ul>
<li><em>ex:</em> <code>Swap('foo')</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable.</em></li>
</ul></li>
<li>long -&gt; Swap(String: name, long: defaultValue) -&gt; long

<ul>
<li><em>ex:</em> <code>Swap('foo',234L)</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable,or the default value if the named variable is not defined.</em></li>
</ul></li>
<li>long -&gt; Swap(java.util.function.LongFunction<String>: nameFunc) -&gt; long

<ul>
<li><em>ex:</em> <code>Swap(NumberNameToString())</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable, where the variable name is generated by the provided function.</em></li>
</ul></li>
<li>long -&gt; Swap(java.util.function.LongFunction<String>: nameFunc, long: defaultValue) -&gt; long

<ul>
<li><em>ex:</em> <code>Swap(NumberNameToString(), 234L)</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable, where the variable name is generated by the provided function, or the default value if the named variable is not defined.</em></li>
</ul></li>
<li>Object -&gt; Swap(String: name) -&gt; Object

<ul>
<li><em>ex:</em> <code>Swap('foo')</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable</em></li>
</ul></li>
<li>Object -&gt; Swap(String: name, Object: defaultValue) -&gt; Object

<ul>
<li><em>ex:</em> <code>Swap('foo','examplevalue')</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable, or return the default value if the named value is not defined.</em></li>
</ul></li>
<li>Object -&gt; Swap(java.util.function.Function<Object,Object>: nameFunc) -&gt; Object

<ul>
<li><em>ex:</em> <code>Swap(NumberNameToString())</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable, where the variable name is generated by the provided function.</em></li>
</ul></li>
<li>Object -&gt; Swap(java.util.function.Function<Object,Object>: nameFunc, Object: defaultValue) -&gt; Object

<ul>
<li><em>ex:</em> <code>Swap(NumberNameToString(),'examplevalue')</code> - <em>for the current thread, swap the input value with the named variable and returned the named variable, where the variable name is generated by the provided function, or the default value if the named value is not defined.</em></li>
</ul></li>
</ul>


			<aside class="copyright" role="note">
				
				&copy; 2018 APL 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
  </div>

  <div class="next">
  
      <a href="http://docs.virtdata.io/functions/funcref_premade/" title="premade">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              premade
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

